# TqSdk é‡åŒ–äº¤æ˜“ç­–ç•¥é›†

> åŸºäº [å¤©å‹¤é‡åŒ– TqSdk](https://github.com/shinnytech/tqsdk-python) å®ç°çš„æœŸè´§é‡åŒ–äº¤æ˜“ç­–ç•¥ç¤ºä¾‹é›†åˆï¼Œæ¯ä¸ªç­–ç•¥é™„æœ‰å®Œæ•´ä¸­æ–‡æ³¨é‡Šå’Œè¯¦ç»†ç­–ç•¥æ€è·¯è®²è§£ã€‚

---

## ğŸ“– å…³äº TqSdk

**TqSdkï¼ˆå¤©å‹¤é‡åŒ–å¼€å‘åŒ…ï¼‰** æ˜¯ç”± [ä¿¡æ˜“ç§‘æŠ€](https://www.shinnytech.com/) å‘èµ·å¹¶å¼€æºçš„ Python é‡åŒ–äº¤æ˜“æ¡†æ¶ï¼Œä¸“ä¸ºå›½å†…æœŸè´§å¸‚åœºè®¾è®¡ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **æç®€ä»£ç **ï¼šå‡ åè¡Œä»£ç å³å¯æ„å»ºå®Œæ•´çš„é‡åŒ–äº¤æ˜“ç­–ç•¥
- ğŸ“Š **å…¨å“ç§æ•°æ®**ï¼šè¦†ç›–æœŸè´§ã€æœŸæƒã€è‚¡ç¥¨ï¼Œæä¾›å…¨å†å² Tick ä¸ K çº¿æ•°æ®ï¼ˆä»ä¸Šå¸‚æ—¥èµ·ï¼‰
- âš¡ **å®æ—¶è¡Œæƒ…**ï¼šæ¯«ç§’çº§è¡Œæƒ…æ¨é€ï¼Œæ•°æ®å…¨åœ¨å†…å­˜ï¼Œé›¶è®¿é—®å»¶è¿Ÿ
- ğŸ”„ **å…¨æµç¨‹æ”¯æŒ**ï¼šå†å²æ•°æ® â†’ å¼€å‘è°ƒè¯• â†’ ç­–ç•¥å›æµ‹ â†’ æ¨¡æ‹Ÿäº¤æ˜“ â†’ å®ç›˜äº¤æ˜“ â†’ è¿è¡Œç›‘æ§
- ğŸ¦ **å¹¿æ³›å…¼å®¹**ï¼šæ”¯æŒå¸‚åœºä¸Š 90% ä»¥ä¸Šçš„æœŸè´§å…¬å¸å®ç›˜äº¤æ˜“
- ğŸ¼ **Pandas å‹å¥½**ï¼šK çº¿ã€Tick æ•°æ®ç›´æ¥ä»¥ `pandas.DataFrame` è¿”å›ï¼Œé…åˆ numpy æ— ç¼åˆ†æ
- ğŸ“ **è¿‘ç™¾ä¸ªæŠ€æœ¯æŒ‡æ ‡**ï¼šå†…ç½® MAã€EMAã€BOLLã€RSIã€MACDã€ATR ç­‰å¸¸ç”¨æŒ‡æ ‡å‡½æ•°åŠæºç 
- ğŸ¤– **å¤šè´¦æˆ·æ”¯æŒ**ï¼šæ”¯æŒå¤šä¸ªå®ç›˜è´¦æˆ·ã€æ¨¡æ‹Ÿè´¦æˆ·åŒæ—¶è¿è¡Œ
- ğŸ” **çµæ´»å›æµ‹**ï¼šæ”¯æŒ Tick çº§å’Œ K çº¿çº§å›æµ‹ï¼Œæ— éœ€å»ºç«‹å’Œç»´æŠ¤æ•°æ®åº“

### ç³»ç»Ÿæ¶æ„

```
ç­–ç•¥ç¨‹åº (TqSdk)
    â”œâ”€â”€ è¡Œæƒ…ç½‘å…³  â†â†’  å®æ—¶è¡Œæƒ… / å†å²æ•°æ®ï¼ˆDiff åè®®ï¼‰
    â””â”€â”€ äº¤æ˜“ä¸­ç»§  â†â†’  æœŸè´§å…¬å¸äº¤æ˜“ç³»ç»Ÿï¼ˆCTP / èµ„ç®¡æŸœå° / é«˜é€ŸæŸœå°ï¼‰
```

### æ”¯æŒçš„äº¤æ˜“ç±»å‹

| ç±»å‹ | è¯´æ˜ |
|------|------|
| æœŸè´§å®ç›˜ | æ”¯æŒ CTP ç›´è¿åŠä¼—æœŸã€èèˆªã€æ°å®œæ–¯ç­‰èµ„ç®¡æŸœå°ï¼Œæ˜“è¾¾ã€ctpmini ç­‰é«˜é€ŸæŸœå° |
| æœŸæƒäº¤æ˜“ | å•†å“æœŸæƒã€è‚¡æŒ‡æœŸæƒ |
| è‚¡ç¥¨äº¤æ˜“ | A è‚¡å®ç›˜ä¸å›æµ‹ |
| æ¨¡æ‹Ÿäº¤æ˜“ | TqKq å¿«æœŸæ¨¡æ‹Ÿè´¦æˆ·æˆ–å†…ç½®ä¸´æ—¶æ¨¡æ‹Ÿè´¦æˆ· |

---

## ğŸ”— å®˜æ–¹èµ„æº

| èµ„æº | é“¾æ¥ |
|------|------|
| ğŸ“˜ å®˜æ–¹æ–‡æ¡£ | https://doc.shinnytech.com/tqsdk/latest/ |
| âš¡ å¿«é€Ÿå…¥é—¨ | https://doc.shinnytech.com/tqsdk/latest/quickstart.html |
| ğŸ¯ ç­–ç•¥ç¤ºä¾‹åº“ | https://doc.shinnytech.com/tqsdk/latest/demo/strategy.html |
| ğŸ“ API å‚è€ƒ | https://doc.shinnytech.com/tqsdk/latest/reference/index.html |
| ğŸ™ GitHub ä»“åº“ | https://github.com/shinnytech/tqsdk-python |
| ğŸŒ ä¿¡æ˜“ç§‘æŠ€å®˜ç½‘ | https://www.shinnytech.com/ |
| ğŸ§‘â€ğŸ’» å¿«æœŸè´¦æˆ·æ³¨å†Œ | https://account.shinnytech.com/ |
| ğŸ’¬ ç”¨æˆ·ç¤¾åŒºè®ºå› | https://www.shinnytech.com/qa/ |
| ğŸ“º å…¥é—¨è§†é¢‘æ•™ç¨‹ | https://www.shinnytech.com/tqsdkquickstart/ |
| ğŸ¤– å¤©å‹¤ AI åŠ©æ‰‹ | https://www.shinnytech.com/products/tqsdk |

---

## ğŸ“¦ å®‰è£…

```bash
pip install tqsdk -U
```

**è¦æ±‚ï¼š** Python >= 3.8ï¼ˆæ¨è 3.10+ï¼‰

ä½¿ç”¨å›½å†…é•œåƒï¼ˆæ¨èï¼Œé€Ÿåº¦æ›´å¿«ï¼‰ï¼š

```bash
pip install tqsdk -U -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host=pypi.tuna.tsinghua.edu.cn
```

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### è·å–å®æ—¶è¡Œæƒ…

```python
from tqsdk import TqApi, TqAuth

api = TqApi(auth=TqAuth("å¿«æœŸè´¦æˆ·", "è´¦æˆ·å¯†ç "))
quote = api.get_quote("SHFE.rb2501")

while True:
    api.wait_update()
    print(quote.last_price, quote.volume)
```

### ç­–ç•¥å›æµ‹

```python
from datetime import date
from tqsdk import TqApi, TqAuth, TqBacktest

api = TqApi(
    backtest=TqBacktest(start_dt=date(2023, 1, 1), end_dt=date(2024, 1, 1)),
    auth=TqAuth("å¿«æœŸè´¦æˆ·", "è´¦æˆ·å¯†ç ")
)
```

---

## ğŸ“ ç­–ç•¥åˆ—è¡¨ï¼ˆ29ä¸ªï¼‰

> æ¯ä¸ªç­–ç•¥æ–‡ä»¶åŒ…å«ï¼š**500å­—ä»¥ä¸Šç­–ç•¥æ€è·¯è®²è§£ + å®Œæ•´å¯è¿è¡Œä»£ç  + è¯¦ç»†ä¸­æ–‡æ³¨é‡Š**

### è¶‹åŠ¿è·Ÿè¸ªç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [01_double_ma.py](strategies/01_double_ma.py) | åŒå‡çº¿è¶‹åŠ¿ç­–ç•¥ | MA5/MA20 é‡‘å‰åšå¤šã€æ­»å‰åšç©º |
| [06_macd_trend.py](strategies/06_macd_trend.py) | MACD è¶‹åŠ¿ç­–ç•¥ | DIF/DEA é‡‘å‰æ­»å‰ï¼ŒåŠ¨èƒ½ç¡®è®¤è¶‹åŠ¿æ–¹å‘ |
| [16_aroon_trend.py](strategies/16_aroon_trend.py) | Aroon æŒ‡æ ‡è¶‹åŠ¿ç­–ç•¥ | Aroon Up/Down å¼ºå¼±å¯¹æ¯”åˆ¤æ–­è¶‹åŠ¿ |
| [20_hull_ma.py](strategies/20_hull_ma.py) | Hull ç§»åŠ¨å¹³å‡çº¿ç­–ç•¥ | å‡å°‘å‡çº¿æ»åçš„ WMA åŠ æƒè¶‹åŠ¿è·Ÿè¸ª |
| [22_trix_trend.py](strategies/22_trix_trend.py) | TRIX ä¸‰é‡æŒ‡æ•°ç­–ç•¥ | ä¸‰é‡EMAå˜åŒ–ç‡ï¼Œè¿‡æ»¤çŸ­æœŸå™ªéŸ³ |
| [25_multiperiod_ma.py](strategies/25_multiperiod_ma.py) | å¤šå‘¨æœŸå‡çº¿å…±æŒ¯ç­–ç•¥ | æ—¥/å°æ—¶/åˆ†é’Ÿä¸‰å‘¨æœŸå‡çº¿æ–¹å‘ä¸€è‡´æ‰å…¥åœº |

### çªç ´ç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [02_boll_breakout.py](strategies/02_boll_breakout.py) | å¸ƒæ—å¸¦çªç ´ç­–ç•¥ | ä¸Šè½¨çªç ´åšå¤šã€ä¸‹è½¨è·Œç ´åšç©ºã€å¸¦å®½è¿‡æ»¤ |
| [08_cci_breakout.py](strategies/08_cci_breakout.py) | CCI é¡ºåŠ¿æŒ‡æ ‡ç­–ç•¥ | Â±100 åå‘ã€Â±200 é¡ºåŠ¿çªç ´ |
| [10_momentum_breakout.py](strategies/10_momentum_breakout.py) | ä»·æ ¼åŠ¨é‡çªç ´ç­–ç•¥ | N æ—¥æ¶¨è·Œå¹…åŠ¨é‡ä¿¡å·è§¦å‘å…¥åœº |
| [13_opening_range_breakout.py](strategies/13_opening_range_breakout.py) | å¼€ç›˜åŒºé—´çªç ´ç­–ç•¥ | å¼€ç›˜å‰30åˆ†é’Ÿé«˜ä½ç‚¹ä½œä¸ºå½“æ—¥çªç ´åŒºé—´ |
| [15_donchian_channel.py](strategies/15_donchian_channel.py) | å”å¥‡å®‰é€šé“ç­–ç•¥ | N æ—¥æœ€é«˜æœ€ä½ä»·é€šé“çªç ´å…¥åœº |
| [21_keltner_channel.py](strategies/21_keltner_channel.py) | è‚¯ç‰¹çº³é€šé“ç­–ç•¥ | EMAÂ±ATR é€šé“ï¼Œä»·æ ¼çªç ´åšè¶‹åŠ¿ |

### å‡å€¼å›å½’ç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [03_rsi_mean_reversion.py](strategies/03_rsi_mean_reversion.py) | RSI å‡å€¼å›å½’ç­–ç•¥ | RSI<30 è¶…å–åšå¤šã€RSI>70 è¶…ä¹°åšç©º |
| [07_kdj_signal.py](strategies/07_kdj_signal.py) | KDJ éšæœºæŒ‡æ ‡ç­–ç•¥ | K/D/J çº¿è¶…ä¹°è¶…å–ï¼Œéšæœºæ³¢åŠ¨æ•æ‰åè½¬ |
| [11_mean_reversion_zscore.py](strategies/11_mean_reversion_zscore.py) | Z-Score å‡å€¼å›å½’ç­–ç•¥ | ä»·æ ¼åç¦»å‡å€¼ N ä¸ªæ ‡å‡†å·®åå›å½’ |
| [17_stochastic_rsi.py](strategies/17_stochastic_rsi.py) | éšæœº RSI ç­–ç•¥ | å¯¹ RSI å†åšéšæœºå¤„ç†ï¼Œæ›´çµæ•çš„è¶…ä¹°è¶…å– |
| [19_williams_r.py](strategies/19_williams_r.py) | å¨å»‰æŒ‡æ ‡ç­–ç•¥ | %R è¶…ä¹°è¶…å–ï¼Œæ—¥å†…æƒ…ç»ªæŒ‡æ ‡ |
| [23_pivot_point.py](strategies/23_pivot_point.py) | æ¢è½´ç‚¹æ”¯æ’‘é˜»åŠ›ç­–ç•¥ | æ˜¨æ—¥é«˜ä½æ”¶è®¡ç®—ä»Šæ—¥æ”¯æ’‘é˜»åŠ›ï¼Œå…³é”®ä½åè½¬ |

### æ—¥å†…ç­–ç•¥ç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [04_dual_thrust.py](strategies/04_dual_thrust.py) | Dual Thrust æ—¥å†…çªç ´ | å¼€ç›˜ä»·Â±Range åŠ¨æ€è½¨é“ï¼Œæ”¶ç›˜å‰å¼ºåˆ¶å¹³ä»“ |
| [24_r_breaker.py](strategies/24_r_breaker.py) | R-Breaker æ—¥å†…ç­–ç•¥ | 6æ¡ä»·æ ¼çº¿ï¼šçªç ´/è§‚å¯Ÿ/åè½¬ä¸‰ç±»ä¿¡å· |

### ç³»ç»ŸåŒ–/é£æ§ç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [05_turtle_trading.py](strategies/05_turtle_trading.py) | æµ·é¾Ÿäº¤æ˜“ç­–ç•¥ | å”å¥‡å®‰é€šé“çªç ´ + ATR ä»“ä½ç®¡ç† |
| [09_atr_stop_loss.py](strategies/09_atr_stop_loss.py) | ATR åŠ¨æ€æ­¢æŸç­–ç•¥ | å‡çº¿è¶‹åŠ¿å…¥åœº + ATR è¿½è¸ªæ­¢æŸå‡ºåœº |
| [12_grid_trading.py](strategies/12_grid_trading.py) | ç½‘æ ¼äº¤æ˜“ç­–ç•¥ | ä»·æ ¼åŒºé—´å†…æŒ‰ç½‘æ ¼é—´è·è‡ªåŠ¨æŒ‚å•ä¹°å– |
| [14_volume_price_trend.py](strategies/14_volume_price_trend.py) | é‡ä»·è¶‹åŠ¿ç­–ç•¥ | æˆäº¤é‡é…åˆä»·æ ¼çªç ´åšä¿¡å·éªŒè¯ |
| [18_parabolic_sar.py](strategies/18_parabolic_sar.py) | æŠ›ç‰©çº¿è½¬å‘ç­–ç•¥ | SAR è·Ÿè¸ªæ­¢æŸç‚¹ï¼Œä»·æ ¼ç©¿è¶Š SAR è½¬å‘ |

### èµ„é‡‘æµå‘ç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [26_chaikin_money_flow.py](strategies/26_chaikin_money_flow.py) | è”¡é‡‘èµ„é‡‘æµé‡ç­–ç•¥ | CMF è¡¡é‡ä¹°å–èµ„é‡‘å‡€æµå‘ï¼Œä¸Šç©¿é˜ˆå€¼åšå¤šï¼Œä¸‹ç©¿é˜ˆå€¼åšç©º |
| [28_obv_trend.py](strategies/28_obv_trend.py) | OBV èƒ½é‡æ½®è¶‹åŠ¿ç­–ç•¥ | OBV çŸ­/é•¿å‡çº¿é‡‘å‰æ­»å‰ï¼Œé‡èƒ½é¢†å…ˆä»·æ ¼åˆ¤æ–­èµ„é‡‘æµå‘ |

### å¤šå‘¨æœŸç»¼åˆç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [27_elder_triple_screen.py](strategies/27_elder_triple_screen.py) | Elder ä¸‰å±äº¤æ˜“ç³»ç»Ÿ | æ—¥çº¿MACDè¶‹åŠ¿+å°æ—¶çº¿Stochasticè¶…ä¹°è¶…å–+15åˆ†é’Ÿå‡çº¿ç²¾ç¡®å…¥åœº |

### è¶‹åŠ¿å¼ºåº¦è¿‡æ»¤ç±»

| ç­–ç•¥æ–‡ä»¶ | ç­–ç•¥åç§° | æ ¸å¿ƒé€»è¾‘ |
|---------|---------|---------|
| [29_adx_trend_filter.py](strategies/29_adx_trend_filter.py) | ADX è¶‹åŠ¿å¼ºåº¦è¿‡æ»¤ç­–ç•¥ | ADX>25ç¡®è®¤è¶‹åŠ¿å¼ºåº¦ï¼Œ+DI/-DIåˆ¤æ–­æ–¹å‘ï¼ŒATRè¿½è¸ªæ­¢æŸåŠ¨æ€æŠ¤ç›ˆ |

---

## ğŸ› ï¸ ä½¿ç”¨è¯´æ˜

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/ringoshinnytech/tqsdk-strategies.git
   cd tqsdk-strategies
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   pip install tqsdk -U
   ```

3. **é…ç½®è´¦æˆ·**  
   åœ¨ç­–ç•¥æ–‡ä»¶ä¸­æ›¿æ¢ `YOUR_ACCOUNT` / `YOUR_PASSWORD` ä¸ºä½ çš„å¿«æœŸè´¦æˆ·ä¿¡æ¯ã€‚  
   æ³¨å†Œå¿«æœŸè´¦æˆ·ï¼šhttps://account.shinnytech.com/

4. **è¿è¡Œç­–ç•¥ï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰**

   ```bash
   python strategies/01_double_ma.py
   ```

---

## ğŸ“… æ›´æ–°è®¡åˆ’

æœ¬ä»“åº“æ¯å¤©è‡ªåŠ¨æ–°å¢ **2 ä¸ªç­–ç•¥**ï¼ŒæŒç»­æ‰©å……ç­–ç•¥åº“ã€‚

---

## âš ï¸ é£é™©æç¤º

- æœ¬ä»“åº“æ‰€æœ‰ç­–ç•¥**ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨**ï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®
- é‡åŒ–äº¤æ˜“å­˜åœ¨äºæŸé£é™©ï¼Œè¯·åœ¨å……åˆ†ç†è§£ç­–ç•¥é€»è¾‘åå†ç”¨äºå®ç›˜
- å»ºè®®å…ˆä½¿ç”¨**æ¨¡æ‹Ÿè´¦æˆ·**å……åˆ†æµ‹è¯•åï¼Œå†è€ƒè™‘å®ç›˜è¿è¡Œ
- è¿‡å»çš„å›æµ‹è¡¨ç°ä¸ä»£è¡¨æœªæ¥çš„å®é™…æ”¶ç›Š

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚  
TqSdk æœ¬èº«åŸºäº [Apache-2.0 License](https://github.com/shinnytech/tqsdk-python/blob/master/LICENSE)ã€‚
